<!DOCTYPE html>
<html>

<head>
    <title>Tâm Trí lực</title>
</head>

<body>
    <div id="app">

        <table align="center" cellspacing="1" border="1" cellpadding="3" background-color="grey">
            <tr>
                <td>No.</td>
                <td>Full Name</td>
                <td>Email</td>
                <td>Tel</td>
                <td>Message</td>
                <td>Registed Date</td>
            </tr>
            <tr v-for="(item, index) in list" :key="index">
                <td>{{index +1}}</td>
                <td>{{item.fullName}}</td>
                <td>{{item.email}}</td>
                <td>{{item.tel}}</td>
                <td>{{item.message}}</td>
                <td>{{item.registedDate}}</td>
            </tr>
        </table>
    </div>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-firestore.js"></script>
    <script src="/assets/firebase.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script>
        var app = new Vue({
            el: '#app',
            data: {
                message: 'Hello Vue!',
                list: []
            },
            mounted() {
                this.setData();
            },
            methods: {
                setData() {
										const _this = this
                    db.collection("customer").where("version", "==", "V2")
                        .onSnapshot(function(querySnapshot) {
													_this.list = [];
                            querySnapshot.forEach(function(doc) {
															_this.list.push(doc.data());
														});                            
                        });
                },
            },
        })
    </script>
</body>

</html>